<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- ★ namespace는 '인터페이스의 FQN' 과 정확히 일치시켜 -->
<mapper namespace="proj.spring.mes.dao.mapper.OrderMapperDAO">

  <!-- 목록 -->
  <select id="selectOrderList" resultType="proj.spring.mes.dto.OrderDTO">
    SELECT
      order_id,
      oreder_stat,      -- 스키마 철자 그대로라면 유지
      order_date,
      item_id,
      order_qty
    FROM V3_order
    ORDER BY order_date DESC
  </select>

  <!-- 단건 -->
  <select id="selectOrderOne" parameterType="string" resultType="proj.spring.mes.dto.OrderDTO">
    SELECT
      order_id,
      oreder_stat,
      order_date,
      item_id,
      order_qty
    FROM V3_order
    WHERE order_id = #{order_id}
  </select>

  <!-- 등록 -->
  <insert id="insertOrder" parameterType="proj.spring.mes.dto.OrderDTO">
    INSERT INTO V3_order (
      order_id, oreder_stat, order_date, item_id, order_qty
    ) VALUES (
      #{order_id}, #{oreder_stat}, #{order_date}, #{item_id}, #{order_qty}
    )
  </insert>

  <!-- 수정 -->
  <update id="updateOrder" parameterType="proj.spring.mes.dto.OrderDTO">
    UPDATE V3_order
    SET
      oreder_stat = #{oreder_stat},
      order_date  = #{order_date},
      item_id     = #{item_id},
      order_qty   = #{order_qty}
    WHERE order_id = #{order_id}
  </update>

  <!-- 삭제 -->
  <delete id="deleteOrder" parameterType="string">
    DELETE FROM V3_order
    WHERE order_id = #{order_id}
  </delete>

</mapper>
